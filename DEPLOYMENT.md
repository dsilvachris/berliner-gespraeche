# Deployment Guide - Render + MongoDB Atlas

## Prerequisites

1. **GitHub Account** - Your code needs to be in a GitHub repository
2. **Render Account** - Sign up at https://render.com
3. **MongoDB Atlas Account** - Sign up at https://cloud.mongodb.com

## Step 1: Set up MongoDB Atlas (Free Tier)

1. Go to https://cloud.mongodb.com and create account
2. Create a new cluster (choose free M0 tier)
3. Set up database user:
   - Go to Database Access
   - Add new user with username/password
   - Give "Read and write to any database" permissions
4. Set up network access:
   - Go to Network Access
   - Add IP Address: `0.0.0.0/0` (allow from anywhere)
5. Get connection string:
   - Go to Clusters → Connect → Connect your application
   - Copy the connection string (looks like: `mongodb+srv://username:password@cluster.mongodb.net/`)

## Step 2: Push Code to GitHub

1. Create new GitHub repository
2. Push your project files:
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/yourusername/berliner-gespraeche.git
git push -u origin main
```

## Step 3: Deploy on Render

1. Go to https://render.com and sign in
2. Click "New +" → "Web Service"
3. Connect your GitHub repository
4. Configure deployment:
   - **Name**: berliner-gespraeche
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn --bind 0.0.0.0:$PORT app:app`

## Step 4: Set Environment Variables

In Render dashboard, go to Environment tab and add:

- **MONGODB_URI**: Your MongoDB Atlas connection string
- **SECRET_KEY**: Auto-generated by Render
- **FLASK_ENV**: `production`

## Step 5: Deploy

1. Click "Create Web Service"
2. Wait for deployment (5-10 minutes)
3. Your app will be available at: `https://berliner-gespraeche.onrender.com`

## Costs

- **MongoDB Atlas**: Free (512MB storage, 100 connections)
- **Render**: Free tier (750 hours/month, sleeps after 15min inactivity)

## Notes

- Free tier apps sleep after 15 minutes of inactivity
- First request after sleep takes 30-60 seconds to wake up
- For production use, upgrade to paid plans for better performance

## Troubleshooting

1. **Build fails**: Check requirements.txt and Python version
2. **Database connection fails**: Verify MongoDB URI and network access
3. **App crashes**: Check Render logs for error details